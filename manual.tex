\documentclass[11pt,a4paper]{article}

\usepackage[T1]{fontenc}
\usepackage[latin1]{inputenc}
\usepackage{fullpage}
%\usepackage{url}
\usepackage{hevea}

\newcommand{\WEB}{\textsf{WEB}}
\newcommand{\Caml}{\textsf{Caml}}
\newcommand{\OCaml}{\textsf{Objective Caml}}
\newcommand{\ocamlweb}{\textsf{ocamlweb}}
\newcommand{\monurl}[2]{\url{#1}}
%HEVEA\renewcommand{\monurl}[2]{\url{#2}{#2}}
\newcommand{\mm}{\symbol{45}\symbol{45}}


\begin{document}

\title{BibTeX2HTML: a translator of BibTeX bibliographies into HTML}
\author{Jean-Christophe Filli\^{a}tre and Claude March\'e \\
        \normalsize\monurl{http://www.lri.fr/~filliatr/bibtex2html}{http://www.lri.fr/\~{}filliatr/bibtex2html}}
\date{}
\maketitle

\tableofcontents


\section{Introduction}

BibTeX2HTML is a collection of tools for producing automatically HTML
documents from bibliographies written in the BibTeX format. It
consists in two command line tools:
\begin{itemize}
\item \texttt{bib2bib} is a filter tool that reads one or several
  bibliography files, filters the entries with respect to a given
  criterion, and outputs the list of selected keys together with a new
  bibliography file containing only the selected entries;
\item \texttt{bibtex2html} is a translator that reads a bibliography
  file and outputs two HTML documents that contains respectively the
  cited bibliography in a nice presentation, and the original BibTeX
  file augmented with several transparent HTML links to allow easy
  navigation. 
\end{itemize}

\section{The \texttt{bibtex2html} command tool}

bibtex2html is a BibTeX to HTML translator. It is invocated as 
\begin{quote}
\texttt{bibtex2html} [options] \textit{file.bib}
\end{quote}
where the possible \url{#options}{options} are described below and
where \textit{file.bib} is the name of the BibTeX file, which must
have a \textit{.bib} suffix. If this file is not given, then entries
are input from standard input.


Then two HTML documents are created: 
\begin{itemize}
\item \textit{file.html} which is the bibliography in HTML format
%HEVEA, like \url{examples/biblio-these.html}{this}
;
\item \textit{file-bib.html} which contains all the entries in ASCII
  format.
%HEVEA ,like \url{examples/biblio-these-bib.html}{this}
\end{itemize}
\texttt{bibtex} is called on \textit{file.bib} in order to produce the
a LaTeX document, and then this LaTeX document is translated into an
HTML document.  The BibTeX file \textit{file.bib} is also parsed in
order to collect additional fields (abstract, url, ps, http, etc.)
that will be used in the translation.

\begin{rawhtml}
<a name=fields>
\end{rawhtml}

\subsection{Additional fields and automatic web links}

The main interest of \texttt{bibtex2html} with respect to a
traditional LaTeX to HTML translator is the use of additional fields
in the BibTeX database and the automatic insertion of web
links.

A link is inserted:
\begin{itemize}

\item  at each cross-reference inside the bibliography entries; 

\item  when the \verb|\url| LaTeX macro is used in the text; 

\item  for each BibTeX field whose name is "ftp", "http", "url", "ps"
  ,"dvi", "rtf", "pdf",
  "documenturl", "urlps" or "urldvi". The name of this link depends on
  the nature of the link or file specified: 
  \begin{itemize}
  \item a suffix \texttt{.dvi} will give a link named "DVI";
  \item a suffix \texttt{.ps} will give a link named "PS";
  \item a suffix \texttt{.pdf} will give a link named "PDF";
  \item a suffix \texttt{.rtf} will give a link named "RTF";
  \item any other filename will give a link named "Available here".
  \end{itemize}
  
  An additional suffix \texttt{.gz}, \texttt{.Z} or
  \texttt{.zip} will add the prefix "Compressed" before the
  file format.

  The file format is prefixed 
  You can insert web link for other fields with the option
  \texttt{-f} (see below).
  
\end{itemize}


%HEVEA See the result on \url{examples/biblio-these.html}{this example}.

\subsubsection{Abstracts}

If a BibTeX entry contains a field \texttt{abstract} then its contents
is quoted right after the bibliography entry
%HEVEA , like \url{examples/publis-abstracts.html}{this}
. 

This behavior may be suppressed with the option \texttt{\mm{}no-abstract}.

If you want both versions with and without abstracts, use the option
\texttt{\mm{}both}. In that case, links named "Abstract" will be
inserted from the page without abstracts to the page with abstracts,
%HEVEA like \url{a href=examples/publis.html}{this}.


\begin{rawhtml}
<a name=options>
\end{rawhtml}

\subsection{Command line options}

Most of the command line options have a short version of one character
(e.g. \texttt{-r}) and an easy-to-remember/understand long version 
(e.g. \texttt{\mm{}reverse-sort}).

\subsubsection{General aspect of the HTML document}

\begin{description}
  
\item[\texttt{-t} \textit{string}, \texttt{\mm{}title} \textit{string}] ~

  specify the title of the HTML file (default is the file name).


\item[\texttt{\mm{}footer} \textit{string}] ~

  give an additional footer for the HTML document.

  
\item[\texttt{-s} \textit{string}, \texttt{\mm{}style} \textit{string}] ~
  
  use BibTeX style \textit{string} (plain, alpha, etc.).  Default
  style is plain.

  
\item[\texttt{-noabstract}, \texttt{\mm{}no-abstract}] ~
  
  do not print the abstracts (if any).

  
\item[\texttt{-both}, \texttt{\mm{}both}] ~
  
  produce both pages with and without abstracts. If the BibTeX file is
  foo.bib then the two pages will be respectively foo.html and
  foo-abstracts.html (The suffix may be different, see option
  \texttt{\mm{}suffix}). Links are inserted from the page without
  abstracts to the page with abstracts.

  
\item[\texttt{-nokeys}, \texttt{\mm{}no-keys}] ~
  
  do not print the cite keys.

  
\item[\texttt{-f} \textit{field}, \texttt{\mm{}field} \textit{field}] ~
  
  add a web link for that BibTeX field.

  
\item[\texttt{-multiple}, \texttt{\mm{}multiple}] ~
  
  make a separate web page for each entry.  \textit{Beware: this
    option produces as many HTML files as BibTeX entries!}


\end{description}


\subsubsection{Controlling the translation}

\begin{description}
  
\item[\texttt{-m} \textit{file}, \texttt{\mm{}macros-from} \textit{file}] ~

  read the LaTeX macros in the given file.

\item[\texttt{-noexpand} \texttt{\mm{}no-expand}] ~

  do not expand the abbreviation strings, leave them in the output file.

\end{description}


\subsubsection{Selecting the entries}


\begin{description}

\item[\texttt{-citefile} \textit{filename}, \texttt{\mm{}citefile}
  \textit{filename}] ~

Select only keys appearing in \textit{filename}. To be used manually
or in conjonction with \verb|bib2bib|. 

\item[\texttt{-e} \textit{key}, \texttt{\mm{}exclude} \textit{key}] ~

  exclude an particular entry.
\end{description}

\subsubsection{Sorting the entries}

\begin{description}
  
\item[\texttt{-d}, \texttt{\mm{}sort-by-date}] ~

 sort by date.

  
\item[\texttt{-a}, \texttt{\mm{}sort-as-bibtex}] ~
  
  sort as BibTeX (usually by author).

  
\item[\texttt{-u}, \texttt{\mm{}unsorted}] ~
  
  unsorted i.e. same order as in .bib file (default).

  
\item[\texttt{-r}, \texttt{\mm{}reverse-sort}] ~

 reverse the sort.

  

\end{description}


\subsubsection{Miscellaneous options}

\begin{description}
  
\item[\texttt{-nodoc}, \texttt{\mm{}nodoc}] ~

  do not produce a full HTML document but only its body (useful to
  merge the HTML bibliography in a bigger HTML document).

  
\item[\texttt{-suffix} \textit{string}, \texttt{\mm{}suffix} \textit{string}] ~

  give an alternate suffix \textit{string} for the
  HTML documents (default is \texttt{.html}).

    
\item[\texttt{-c} \textit{file}, \texttt{\mm{}command} \textit{file}] ~
  
  specify the BibTeX command (default is \texttt{bibtex
    -min-crossrefs=1000}). May be useful for example if
  you want to specify to full path to the \texttt{bibtex} command. 

  
\item[\texttt{-i}, \texttt{\mm{}ignore-errors}] ~

 ignore BibTeX errors.

  
\item[\texttt{-h}, \texttt{\mm{}help}] ~

 print a short usage and exit.

  
\item[\texttt{-v}, \texttt{\mm{}version}] ~

 print the version and exit.


\end{description}


\section{The \texttt{bib2bib} command line tool}

\texttt{bib2bib} is a tool for extracting some entries from a list of
bibliography files. It is invocated as 
\begin{quote}
\texttt{bib2bib} [options] \textit{file1.bib} $\cdots$ \textit{filen.bib}
\end{quote}
where the possible options are described below and where
\textit{file1.bib} $\cdots$ \textit{filen.bib} are the names of the
BibTeX files, which must have a \textit{.bib} suffix. If no files at
all are given on the command line, then input is taken from standard
input. 

The options allow to specify a filter condition to test against each
references read from bib files. The result will be a new BibTeX file
containing all the entries of the input files that satisfy the
condition. Notice that this output file contains all the necessary
informations: each string and each cross-reference needed will be also
in that file.

Additionally, \textit{bib2bib} may output a file containing all the
keys of entries that satisfy the condition. This second file is
suitable for input as option \verb|-citefile| to \verb|bibtex2html|.

\subsection{Command line options}

\begin{description}
  
\item[\texttt{-ob} \textit{filename}] ~

  specify the filename where the selected entries are output. If not
  given, it defaults to standard output. 

\item[\texttt{-oc} \textit{filename}] ~

  specify the filename where the list of selected keys is output. If
  not given, this file is not created.

\item[\texttt{-c} \textit{condition}] ~

  specify a condition for selecting the entries. The output will
  retain only the entries that satisfy this condition. If several such
  condition are given, then only the entries that satisfy all the
  conditions are selected. The syntax of conditions is given below,
  notice that it is better to escape shell expansions in that
  conditions, in other words, you should write conditions between
  quotes. 

\end{description}

Notice that the two output files are suitable for use with
bibtex2html.  A typical use would be
\begin{quote}
\texttt{bib2bib -oc $citefile$ -ob $bibfile.bib$ -c $condition$
  file1.bib file2.bib ... } \\
\texttt{bibtex2html -citefile $citefile$ bibfile.bib}
\end{quote}
which will produce exactly the HTML file for the selected
references. Notice finally that bibtex2html will expand the strings
(by default, unless you specify the \verb|-noexpand| option) but not
the cross-references.

\subsection{Filter conditions}

A filter condition is a boolean expression that is evaluated against a
BibTeX entry to decide whether this entry should be selected. A
condition is either:
\begin{itemize}
\item a \emph{comparison} between two \emph{expressions}, written as
  $e_1~op~e_2$ ; 
\item a matching of a field name with respect to a \emph{regular
    expression}, written as $field : regexp$ ; 
\item a conjunction of two conditions, written as $c_1 \verb| and |
  c_2$ ;
\item a disjunction of two conditions, written as $c_1 \verb| or |
  c_2$ ;
\item a negation of a condition, written as $\verb|not | c$ ;
\end{itemize}
where an expression is either:
\begin{itemize}
\item a string constant, written between double quotes ;
\item a integer constant ;
\item a field name ;
\item the special character \verb|@| which corresponds to the key of
  an entry.
\end{itemize} 

Comparison operators are the usual ones: \texttt{=}, \texttt{<},
\texttt{>}, \texttt{<=}, \texttt{>=} and \texttt{<>}. 

The field names are any sequences of lowercase or uppercase letters.

Regular expressions must be put between double quotes, and must follow
the GNU syntax of regular expressions, as for example in GNU
Emacs. Any character other than \verb|$^.*+?[]| matches itself, see
Table~\ref{table:regexp} for the meaning of the special characters. 

\begin{table}
\begin{center}
\begin{tabular}{|l|p{100mm}|}
\hline
\verb|.| & matches any character except newline \\\hline
\verb|[..]| & character set; ranges are denoted with \verb|-|, as in
\verb|[a-z]|; an initial \verb|^|, as in \verb|[^0-9]|, complements
the set \\\hline 
\verb|^| & matches the beginning of the string matched \\\hline
\verb|$| & matches the end of the string matched \\\hline
\verb|\b| & matches word boundaries \\\hline
\verb|\| & quotes special characters \\\hline
\textsl{regexp}\verb|*| & matches \textsl{regexp} zero, one or several
times \\\hline 
\textsl{regexp}\verb|+| & matches \textsl{regexp} one or several times
\\\hline 
\textsl{regexp}\verb|?| & matches \textsl{regexp} once or not at all \\\hline
\textsl{regexp1} \verb+\|+ \textsl{regexp2} & alternative between two
regular expressions, this operator has low priority against
\verb|*|, \verb|+| and \verb|?| \\\hline
\verb|\(| \textsl{regexp} \verb|\)| & grouping regular expression \\\hline
\end{tabular} 
\end{center}
\caption{Syntax of regular expressions}
\label{table:regexp}
\end{table}

Notice that if several conditions are given with option \verb|-c| on
the command line, then they are understood as the conjunction of them,
in other words
\begin{quote}
\texttt{bib2bib -c '$c_1$' $\cdots$ -c '$c_n$'}
\end{quote} 
is equivalent to
\begin{quote}
\texttt{bib2bib -c '$c_1$ and $\cdots$ and $c_n$'}
\end{quote} 

Table~\ref{table:syntax} shows a formal grammar for conditions.

\begin{table}
\begin{eqnarray*}
Cond & \rightarrow & Cond \verb| and | Cond \mid Cond \verb| or | Cond
\mid \verb|not | Cond \\
&& \mid Expr ~ Comp ~ Expr \mid Id \verb|:| String \\
Comp & \rightarrow & \verb|=| \mid \verb|>| \mid \verb|<| \mid
\verb|>=| \mid \verb|<=| \mid \verb|<>| \\
Expr & \rightarrow & Id \mid String \mid Int \\
Id & \rightarrow & [\verb|a|-\verb|z|\verb|A|-\verb|Z|]^+ \\
String & \rightarrow & \verb|"| [\verb|^"|]^* \verb|"| \\
Integer & \rightarrow & [\verb|0|-\verb|9|]^+
\end{eqnarray*}
\caption{Syntax of conditions}
\label{table:syntax}
\end{table}


\subsection{Examples}

Here are some examples to help you writing the filter conditions you
are interested in.

\subsubsection{Selecting entries of a given year}

The following command reads input files \verb|biblio1.bib| and
\verb|biblio2.bib|, and select only entries that appeared in 1999 :
\begin{verbatim}
bib2bib -oc cite1999 -ob 1999.bib -c 'year=1999' biblio1.bib biblio2.bib 
\end{verbatim}
The resulting file \verb|cite1999| contains the list of keys
selected. You can then produce the HTML file by
\begin{verbatim}
bibtex2html -citefile cite1999 1999.bib
\end{verbatim}

You may also select references appeared after and/or before a given
year. For example, references after 1997:
\begin{verbatim}
bib2bib -oc citeaft1997 -ob aft1997.bib -c 'year>1997' biblio.bib 
\end{verbatim}
or between 1990 and 1995:
\begin{verbatim}
bib2bib -oc cite90-95 -ob 90-95.bib -c 'year>=1990 and year<=1995' biblio.bib 
\end{verbatim}

\subsubsection{Selecting references of a given author}

The following command reads input files \verb|biblio.bib| and select
only entries whose (co)author is Donald Knuth: 
\begin{verbatim}
bib2bib -oc knuth-citations -ob knuth.bib -c 'author : "Knuth"' biblio.bib
\end{verbatim}
More complicated, if you would like to have only the references whose
author is Knuth only, you may try
\begin{verbatim}
bib2bib -oc knuth-citations -ob knuth.bib \
 -c 'author : "^\(Donald \(E. \)?Knuth\|Knuth, Donald \(E.\)?\)$"' biblio.bib
\end{verbatim}
or equivalently but missing the possible ``\verb|E.|'':
\begin{verbatim}
bib2bib -oc knuth-citations -ob knuth.bib -c 'author = "Donald Knuth"
or author = "Knuth, Donald"' biblio.bib
\end{verbatim}

\subsubsection{Other examples}

Any boolean combination of comparison and/or matching are
possible. For example, the following command extract the references
that appeared since 1995 and have lambda-calculus in their title, with
anything between ``lambda'' and ``calculus'':
\begin{verbatim}
bib2bib -oc lambda -c 'year >= 1995 and title : "lambda.*calculus"' biblio.bib
\end{verbatim}
for example, it will select a title containing
\verb|$\lambda$-calculus|. 
 
\section{Frequently Asked Questions}

\begin{enumerate}

\item \textbf{How may I tell bibtex2html to expand cross-references?} ~

  By default, all entries of the input BibTeX file are translated into
  HTML, including cross-references. Since the latter are there, bibtex
  will never expand them. If you want them to be expanded, you have to
  tell bibtex2html that crossref entries need not be in the resulting
  file. To do that you have to use the option \verb|-citefile| to give
  the exact list of entries you want to see. If a cross-reference is
  not in that list, then its fields will be expanded into all entries
  that cross-refers to it. (Technically, this work because bibtex2html
  calls bibtex with option \verb|-min-crossrefs=1000| by default.)
  
\end{enumerate}

\begin{rawhtml}
<hr>
<img src="http://www.lri.fr/~filliatr/icons/mail.gif" ALIGN=middle>
<em><a href="mailto:Jean-Christophe.Filliatre@lri.fr, Claude.Marche@lri.fr">
mail to authors</a> , Fri Feb 12 17:46:23 1999 
</em>
\end{rawhtml}

\end{document}

%%% Local Variables: 
%%% mode: latex
%%% TeX-master: t
%%% End: 
